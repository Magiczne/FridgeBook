{% extends "base_generic.html" %}

{% block content %}
<h1 class="title">FridgeBook</h1>
<h2 id="notes-number"><strong>Notes number:</strong> {{ num_notes }}</h2>
<a id="add-note" class="btn hover-slide-up" href="{% url 'add_note' %}">
    <span>Create note</span>
</a>
{% if notes %}
<div class="note-wrapper">
    <ul class="note-container">
        {% for note in notes %}
        <div>
        <li class="note" {% if note.is_read %} style="opacity: 0.5;"{% endif %}>
            <div class="note-content-container">
                <p class="note-title">{{ note.title }}</p>
                <p class="note-content">{{ note.content }}</p>
                    <form method="POST" action="notes/update/{{ note.id }}">
                    {% csrf_token %}
                    <label for="{{ note.title }}" class="note-label" >
                        <input type="checkbox" id="{{ note.title }}" name="{{ note.title }}" class="note-checkbox" {% if note.is_read %} checked{% endif %} onChange="this.form.submit()">
                                            Mark as read

                    </label>
                </form>
        </li>
        {% if user == note.user %}
        <a id="edit-note" class="btn hover-slide-up" href="{% url 'edit_note' note.id %}">
            <span>Edit</span>
        </a>
        {% endif %}
    </div>
        {% endfor %}
    </ul>
</div>
{% else %}
<p>There aren't any notes</p>
{% endif %}
{% endblock %}